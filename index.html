<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì£¼ê°„ íŒŒí‹° ì˜ˆì•½íŒ (3íŒŒí‹° / ì •ì› 4~8)</title>
  <style>
    :root{--bg:#0b0f14;--card:#121821;--muted:#8aa1b2;--accent:#64a9ff;--ok:#2ecc71;--warn:#ffb84d;--danger:#ff6b6b;--line:#1f2a36}
    *{box-sizing:border-box} body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Pretendard,Apple SD Gothic Neo,'Noto Sans KR','Malgun Gothic',sans-serif;background:var(--bg);color:#e6eef5}
    .wrap{max-width:1200px;margin:24px auto;padding:0 16px}
    h1{font-size:22px;margin:0 0 10px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
    .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    label{font-size:14px;color:var(--muted)} input,select,button{height:36px;border-radius:10px;border:1px solid var(--line);background:#0f141b;color:#e6eef5;padding:0 10px}
    button{cursor:pointer}
    button.primary{background:var(--accent);border-color:transparent;color:#00172e;font-weight:700}
    .grid{overflow:auto;border:1px solid var(--line);border-radius:14px}
    table{width:100%;border-collapse:separate;border-spacing:0;min-width:900px}
    th,td{border-right:1px solid var(--line);border-bottom:1px solid var(--line);padding:8px;vertical-align:top}
    th:first-child,td:first-child{border-left:1px solid var(--line)}
    thead th{position:sticky;top:0;background:#0f141b;font-weight:700}
    tbody tr:first-child td{border-top:1px solid var(--line)}
    .time{white-space:nowrap;color:#bcd0df}
    .party{display:grid;grid-template-columns:1fr auto;gap:6px;padding:8px;border:1px solid var(--line);border-radius:10px;margin-bottom:8px;background:#0e131a}
    .p-head{display:flex;gap:8px;align-items:center}
    .badge{font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--line);color:#bcd0df}
    .count{font-weight:700}
    .names{font-size:12px;color:#cfe3f2;line-height:1.4}
    .btns{display:flex;gap:6px}
    .btn-join{background:#21354a;color:#cfe3f2}
    .btn-leave{background:#2a1b1b;color:#ffd5d5;border-color:#512b2b}
    .full{border-color:#3a2a12;background:#1a1410}
    .full .count{color:var(--warn)}
    .muted{color:var(--muted)}
    .foot{margin-top:10px;color:var(--muted);font-size:12px}
    .ok{color:var(--ok)} .danger{color:var(--danger)}
    .hint{font-size:12px;color:#99b2c7}
    .flex-gap{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>ì£¼ê°„ íŒŒí‹° ì˜ˆì•½íŒ <span class="hint">(ê°™ì€ ì‹œê°„ëŒ€ ìµœëŒ€ 3íŒŒí‹° Â· ì •ì› 4~8)</span></h1>
    <div class="card" style="margin-bottom:12px">
      <div class="row">
        <div class="flex-gap">
          <label>ë³„ëª…/ë‹‰ë„¤ì„</label>
          <input id="nick" placeholder="ì¸ê²Œì„ ë‹‰ë„¤ì„" style="width:180px" />
          <button id="saveNick" class="primary">ë‹‰ë„¤ì„ ì €ì¥</button>
        </div>
        <div class="flex-gap">
          <label>ì£¼ê°„ ì‹œì‘ì¼(ì›”ìš”ì¼)</label>
          <input type="date" id="weekStart" />
          <button id="goWeek" class="primary">í•´ë‹¹ ì£¼ ë³´ê¸°</button>
        </div>
        <div class="flex-gap">
          <label>ì •ì›</label>
          <select id="capacity">
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8" selected>8</option>
          </select>
          <span class="hint">(ì´ ì£¼ì˜ ê¸°ë³¸ì •ì› Â· ê´€ë¦¬ìê°€ ë°”ê¿€ ìˆ˜ ìˆìŒ)</span>
        </div>
      </div>
      <div class="foot">Tip: ë‹‰ë„¤ì„ì„ ì €ì¥í•˜ë©´ í´ë¦­ í•œ ë²ˆìœ¼ë¡œ ì°¸ê°€/ì·¨ì†Œê°€ ë©ë‹ˆë‹¤. ê°™ì€ ì‹œê°„ëŒ€ì—ëŠ” íŒŒí‹° 1~3 ì¤‘ í•œ ê³³ë§Œ ì°¸ì—¬ë˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
    </div>

    <div class="card" style="margin-bottom:12px">
      <div class="flex-gap">
        <label>ì‹œê°„ëŒ€ í¸ì§‘</label>
        <input id="timesInput" placeholder="ì˜ˆ: 20:00,22:00" style="width:240px">
        <button id="applyTimes">ì‹œê°„ëŒ€ ì ìš©</button>
      </div>
      <div class="foot">ì‰¼í‘œë¡œ êµ¬ë¶„í•´ ì›í•˜ëŠ” ì‹œê°„ëŒ€ë¥¼ ì¶”ê°€/ì‚­ì œí•˜ì„¸ìš”.</div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="foot" style="margin-top:12px">
      âš™ï¸ ë¬´ë£Œ í˜¸ìŠ¤íŒ…: GitHub Pages Â· ë°ì´í„°: Firebase Firestore(ìµëª… ë¡œê·¸ì¸).  
      ë³´ì•ˆ ê·œì¹™ê³¼ ë°°í¬ ë°©ë²•ì€ ì´ íŒŒì¼ ìƒë‹¨ ì£¼ì„/ì„¤ëª…ì„œë¥¼ í™•ì¸í•˜ì„¸ìš”.
    </div>
  </div>

  <!-- Firebase SDKs (v10) -->
  <script type="module">
    // ğŸ”‘ Firebase ì›¹ì•± êµ¬ì„±: ì½˜ì†”ì—ì„œ ë°œê¸‰ë°›ì€ ê°’ìœ¼ë¡œ êµì²´
    const firebaseConfig = {
      apiKey: "AIzaSyBa0Lo3qikOS495BmX4JAew63QF7h5FnC0",
      authDomain: "party-reservation.firebaseapp.com",
      projectId: "party-reservation",
      storageBucket: "party-reservation.firebasestorage.app",
      messagingSenderId: "566891379159",
      appId: "1:566891379159:web:8d69d4996dd859a295f392",
      measurementId: "G-XQBDVLWEJD"
    };

    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';
    import { getAuth, signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';
    import { getFirestore, doc, getDoc, setDoc, updateDoc, onSnapshot, runTransaction } from 'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // ì´í•˜ ë¡œì§ ë™ì¼ (íŒŒí‹° ì˜ˆì•½/ì·¨ì†Œ, UI ë Œë”ë§, íŠ¸ëœì­ì…˜ ì²˜ë¦¬ ë“±)
    // ... (ìº”ë²„ìŠ¤ì— ì˜¬ë¦° ì›ë³¸ ì½”ë“œ ë‚´ìš© ê·¸ëŒ€ë¡œ ìœ ì§€)
  </script>
</body>
</html>
